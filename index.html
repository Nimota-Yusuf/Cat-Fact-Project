<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Facts</title>
</head>
<style>
    body{
        background-color: bisque;
        text-align: center;
    }
    img{
        margin: 50px auto;
        display: block;
        width: 450px;
    }
</style>
<body>
    <h1>Hello World</h1>

    <div id="promise">
        
    </div>

    <p id="catfact"></p>

    <button onclick="displayFact()">Show Next Fact</button>

    <img src="./Image/cat.jpg" alt="A brown cat">

    <script>
         const req = new XMLHttpRequest ()
    const getFact = new Promise ((resolve, reject) => {
        req.open("GET", "https://catfact.ninja/facts?limit=156max_length=60")
        req.send()
        req.responseType ="json"
        req.onload= () => resolve(req.response);
        req.onerror = () => reject(req.statusText)
    })

    getFact.then(result => {data = result.data
    console.log('Successful')
    }).catch(error => console.log(error))
    
    let eachItem = 0;
    let data = [];

    function displayFact() {
            if (data.length === 0) {
                document.getElementById('promise').innerText = "Loading ... Please wait.";
                return;
            }

        
            document.getElementById('promise').innerText = data[eachItem].fact;
            
         
            eachItem = (eachItem+ 1) % data.length;
        }
    
    </script>
</body>
</html>